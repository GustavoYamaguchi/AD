filter(RATING != "No Score Yet",
`BOX OFFICE` != "—",
CREDIT != "Executive Producer") %>%
mutate(RATING = as.numeric(gsub("%", "", RATING)),
`BOX OFFICE` = as.numeric(gsub("[$|M]", "", `BOX OFFICE`))) %>%
filter(`BOX OFFICE` >= 1) # Tem dois filmes que não parecem ter sido lançados no mundo todo
filmes %>%
ggplot(aes(x = "Filmes", y = YEAR)) +
geom_jitter(width = .02, height = 0, size = 2, alpha = .6)
filmes %>%
ggplot(aes(x = `YEAR`)) +
geom_histogram(bins = 17) +
geom_rug()
filmes %>%
ggplot(aes(x = "Filmes", y = RATING)) +
geom_jitter(width = .01, height = 0, size = 2, alpha = .6)
filmes %>%
ggplot(aes(x = RATING)) +
geom_histogram(bins = 16) +
geom_rug()
filmes %>%
ggplot(aes(x = "Filmes", y = `BOX OFFICE`)) +
geom_jitter(width = .02, height = 0, size = 2, alpha = .6)
filmes %>%
ggplot(aes(x = "Filmes", y = `BOX OFFICE`)) +
geom_jitter(width = .02, height = 0, size = 2, alpha = .6) +
scale_y_log10()
filmes %>%
ggplot(aes(x = `BOX OFFICE`)) +
geom_histogram(bins = 20) +
geom_rug()
filmes %>%
ggplot(aes(x = `BOX OFFICE`)) +
geom_histogram(bins = 20) +
scale_x_log10() +
geom_rug()
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse, warn.conflicts = F)
library(rvest)
library(plotly)
library(cluster)
library(tibble)
library(ggdendro)
theme_set(theme_light())
from_page <- read_html("https://www.rottentomatoes.com/celebrity/emma_watson/") %>%
html_node("#filmographyTbl") %>% # A sintaxe da expressão é de um seletor à lá JQuery: https://rdrr.io/cran/rvest/man/html_nodes.html
html_table(fill=TRUE) %>% # Faz parse
as.tibble()
filmes = from_page %>%
filter(RATING != "No Score Yet",
`BOX OFFICE` != "—",
CREDIT != "Executive Producer") %>%
mutate(RATING = as.numeric(gsub("%", "", RATING)),
`BOX OFFICE` = as.numeric(gsub("[$|M]", "", `BOX OFFICE`))) %>%
filter(`BOX OFFICE` >= 1) # Tem dois filmes que não parecem ter sido lançados no mundo todo
filmes %>%
ggplot(aes(x = "Filmes", y = YEAR)) +
geom_jitter(width = .02, height = 0, size = 2, alpha = .6)
filmes %>%
ggplot(aes(x = `YEAR`)) +
geom_histogram(bins = 17) +
geom_rug()
filmes %>%
ggplot(aes(x = "Filmes", y = RATING)) +
geom_jitter(width = .01, height = 0, size = 2, alpha = .6)
filmes %>%
ggplot(aes(x = RATING)) +
geom_histogram(bins = 16) +
geom_rug()
filmes %>%
ggplot(aes(x = "Filmes", y = `BOX OFFICE`)) +
geom_jitter(width = .02, height = 0, size = 2, alpha = .6)
filmes %>%
ggplot(aes(x = "Filmes", y = `BOX OFFICE`)) +
geom_jitter(width = .02, height = 0, size = 2, alpha = .6) +
scale_y_log10()
filmes %>%
ggplot(aes(x = `BOX OFFICE`)) +
geom_histogram(bins = 20) +
geom_rug()
filmes %>%
ggplot(aes(x = `BOX OFFICE`)) +
geom_histogram(bins = 20) +
scale_x_log10() +
geom_rug()
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse, warn.conflicts = F)
library(rvest)
library(plotly)
library(cluster)
library(tibble)
library(ggdendro)
theme_set(theme_light())
from_page <- read_html("https://www.rottentomatoes.com/celebrity/emma_watson/") %>%
html_node("#filmographyTbl") %>% # A sintaxe da expressão é de um seletor à lá JQuery: https://rdrr.io/cran/rvest/man/html_nodes.html
html_table(fill=TRUE) %>% # Faz parse
as.tibble()
filmes = from_page %>%
filter(RATING != "No Score Yet",
`BOX OFFICE` != "—",
CREDIT != "Executive Producer") %>%
mutate(RATING = as.numeric(gsub("%", "", RATING)),
`BOX OFFICE` = as.numeric(gsub("[$|M]", "", `BOX OFFICE`))) %>%
filter(`BOX OFFICE` >= 1) # Tem dois filmes que não parecem ter sido lançados no mundo todo
filmes %>%
ggplot(aes(x = "Filmes", y = YEAR)) +
geom_jitter(width = .02, height = 0, size = 2, alpha = .6)
filmes %>%
ggplot(aes(x = `YEAR`)) +
geom_histogram(bins = 17) +
geom_rug()
filmes %>%
ggplot(aes(x = "Filmes", y = RATING)) +
geom_jitter(width = .01, height = 0, size = 2, alpha = .6)
filmes %>%
ggplot(aes(x = RATING)) +
geom_histogram(bins = 16) +
geom_rug()
filmes %>%
ggplot(aes(x = "Filmes", y = `BOX OFFICE`)) +
geom_jitter(width = .02, height = 0, size = 2, alpha = .6)
filmes %>%
ggplot(aes(x = "Filmes", y = `BOX OFFICE`)) +
geom_jitter(width = .02, height = 0, size = 2, alpha = .6) +
scale_y_log10()
filmes %>%
ggplot(aes(x = `BOX OFFICE`)) +
geom_histogram(bins = 10) +
geom_rug()
filmes %>%
ggplot(aes(x = `BOX OFFICE`)) +
geom_histogram(bins = 10) +
scale_x_log10() +
geom_rug()
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse, warn.conflicts = F)
library(rvest)
library(plotly)
library(cluster)
library(tibble)
library(ggdendro)
theme_set(theme_light())
from_page <- read_html("https://www.rottentomatoes.com/celebrity/emma_watson/") %>%
html_node("#filmographyTbl") %>% # A sintaxe da expressão é de um seletor à lá JQuery: https://rdrr.io/cran/rvest/man/html_nodes.html
html_table(fill=TRUE) %>% # Faz parse
as.tibble()
filmes = from_page %>%
filter(RATING != "No Score Yet",
`BOX OFFICE` != "—",
CREDIT != "Executive Producer") %>%
mutate(RATING = as.numeric(gsub("%", "", RATING)),
`BOX OFFICE` = as.numeric(gsub("[$|M]", "", `BOX OFFICE`))) %>%
filter(`BOX OFFICE` >= 1) # Tem dois filmes que não parecem ter sido lançados no mundo todo
filmes %>%
ggplot(aes(x = "Filmes", y = YEAR)) +
geom_jitter(width = .02, height = 0, size = 2, alpha = .6)
filmes %>%
ggplot(aes(x = `YEAR`)) +
geom_histogram(bins = 17) +
geom_rug()
filmes %>%
ggplot(aes(x = "Filmes", y = RATING)) +
geom_jitter(width = .01, height = 0, size = 2, alpha = .6)
filmes %>%
ggplot(aes(x = RATING)) +
geom_histogram(bins = 16) +
geom_rug()
filmes %>%
ggplot(aes(x = "Filmes", y = `BOX OFFICE`)) +
geom_jitter(width = .02, height = 0, size = 2, alpha = .6)
filmes %>%
ggplot(aes(x = "Filmes", y = `BOX OFFICE`)) +
geom_jitter(width = .02, height = 0, size = 2, alpha = .6) +
scale_y_log10()
filmes %>%
ggplot(aes(x = `BOX OFFICE`)) +
geom_histogram(bins = 40) +
geom_rug()
filmes %>%
ggplot(aes(x = `BOX OFFICE`)) +
geom_histogram(bins = 40) +
scale_x_log10() +
geom_rug()
filmes %>%
ggplot(aes(x = "Filmes", y = `BOX OFFICE`)) +
geom_jitter(width = .02, height = 0, size = 2, alpha = .6)
filmes %>%
ggplot(aes(x = "Filmes", y = `BOX OFFICE`)) +
geom_jitter(width = .02, height = 0, size = 2, alpha = .6) +
scale_y_log10()
filmes %>%
ggplot(aes(x = `BOX OFFICE`)) +
geom_histogram(bins = 40) +
geom_rug()
filmes %>%
ggplot(aes(x = `BOX OFFICE`)) +
geom_histogram(bins = 80) +
scale_x_log10() +
geom_rug()
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse, warn.conflicts = F)
library(rvest)
library(plotly)
library(cluster)
library(tibble)
library(ggdendro)
theme_set(theme_light())
from_page <- read_html("https://www.rottentomatoes.com/celebrity/emma_watson/") %>%
html_node("#filmographyTbl") %>% # A sintaxe da expressão é de um seletor à lá JQuery: https://rdrr.io/cran/rvest/man/html_nodes.html
html_table(fill=TRUE) %>% # Faz parse
as.tibble()
filmes = from_page %>%
filter(RATING != "No Score Yet",
`BOX OFFICE` != "—",
CREDIT != "Executive Producer") %>%
mutate(RATING = as.numeric(gsub("%", "", RATING)),
`BOX OFFICE` = as.numeric(gsub("[$|M]", "", `BOX OFFICE`))) %>%
filter(`BOX OFFICE` >= 1) # Tem dois filmes que não parecem ter sido lançados no mundo todo
filmes %>%
ggplot(aes(x = "Filmes", y = YEAR)) +
geom_jitter(width = .02, height = 0, size = 2, alpha = .6)
filmes %>%
ggplot(aes(x = `YEAR`)) +
geom_histogram(bins = 17) +
geom_rug()
filmes %>%
ggplot(aes(x = "Filmes", y = RATING)) +
geom_jitter(width = .01, height = 0, size = 2, alpha = .6)
filmes %>%
ggplot(aes(x = RATING)) +
geom_histogram(bins = 16) +
geom_rug()
filmes %>%
ggplot(aes(x = "Filmes", y = `BOX OFFICE`)) +
geom_jitter(width = .02, height = 0, size = 2, alpha = .6)
filmes %>%
ggplot(aes(x = "Filmes", y = `BOX OFFICE`)) +
geom_jitter(width = .02, height = 0, size = 2, alpha = .6) +
scale_y_log10()
filmes %>%
ggplot(aes(x = `BOX OFFICE`)) +
geom_histogram(bins = 15) +
geom_rug()
filmes %>%
ggplot(aes(x = `BOX OFFICE`)) +
geom_histogram(bins = 15) +
scale_x_log10() +
geom_rug()
library(tidyverse, warn.conflicts = F)
library(rvest)
library(plotly)
library(cluster)
library(tibble)
library(ggdendro)
theme_set(theme_light())
source("plota_solucoes_hclust.R")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse, warn.conflicts = F)
library(rvest)
library(plotly)
library(cluster)
library(tibble)
library(ggdendro)
theme_set(theme_light())
source("plota_solucoes_hclust.R")
from_page <- read_html("https://www.rottentomatoes.com/celebrity/emma_watson/") %>%
html_node("#filmographyTbl") %>% # A sintaxe da expressão é de um seletor à lá JQuery: https://rdrr.io/cran/rvest/man/html_nodes.html
html_table(fill=TRUE) %>% # Faz parse
as.tibble()
filmes = from_page %>%
filter(RATING != "No Score Yet",
`BOX OFFICE` != "—",
CREDIT != "Executive Producer") %>%
mutate(RATING = as.numeric(gsub("%", "", RATING)),
`BOX OFFICE` = as.numeric(gsub("[$|M]", "", `BOX OFFICE`))) %>%
filter(`BOX OFFICE` >= 1) # Tem dois filmes que não parecem ter sido lançados no mundo todo
filmes %>%
ggplot(aes(x = "Filmes", y = RATING)) +
geom_jitter(width = .01, height = 0, size = 2, alpha = .6)
filmes %>%
ggplot(aes(x = RATING)) +
geom_histogram(bins = 16) +
geom_rug()
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse, warn.conflicts = F)
library(rvest)
library(plotly)
library(cluster)
library(tibble)
library(ggdendro)
theme_set(theme_light())
source("plota_solucoes_hclust.R")
from_page <- read_html("https://www.rottentomatoes.com/celebrity/emma_watson/") %>%
html_node("#filmographyTbl") %>% # A sintaxe da expressão é de um seletor à lá JQuery: https://rdrr.io/cran/rvest/man/html_nodes.html
html_table(fill=TRUE) %>% # Faz parse
as.tibble()
filmes = from_page %>%
filter(RATING != "No Score Yet",
`BOX OFFICE` != "—",
CREDIT != "Executive Producer") %>%
mutate(RATING = as.numeric(gsub("%", "", RATING)),
`BOX OFFICE` = as.numeric(gsub("[$|M]", "", `BOX OFFICE`))) %>%
filter(`BOX OFFICE` >= 1) # Tem dois filmes que não parecem ter sido lançados no mundo todo
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse, warn.conflicts = F)
library(rvest)
library(plotly)
library(cluster)
library(tibble)
library(ggdendro)
theme_set(theme_light())
source("plota_solucoes_hclust.R")
from_page <- read_html("https://www.rottentomatoes.com/celebrity/emma_watson/") %>%
html_node("#filmographyTbl") %>% # A sintaxe da expressão é de um seletor à lá JQuery: https://rdrr.io/cran/rvest/man/html_nodes.html
html_table(fill=TRUE) %>% # Faz parse
as.tibble()
filmes = from_page %>%
filter(RATING != "No Score Yet",
`BOX OFFICE` != "—",
CREDIT != "Executive Producer") %>%
mutate(RATING = as.numeric(gsub("%", "", RATING)),
`BOX OFFICE` = as.numeric(gsub("[$|M]", "", `BOX OFFICE`))) %>%
filter(`BOX OFFICE` >= 1) # Tem dois filmes que não parecem ter sido lançados no mundo todo
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse, warn.conflicts = F)
library(rvest)
library(plotly)
library(cluster)
library(tibble)
library(ggdendro)
theme_set(theme_light())
source("plota_solucoes_hclust.R")
from_page <- read_html("https://www.rottentomatoes.com/celebrity/emma_watson/") %>%
html_node("#filmographyTbl") %>% # A sintaxe da expressão é de um seletor à lá JQuery: https://rdrr.io/cran/rvest/man/html_nodes.html
html_table(fill=TRUE) %>% # Faz parse
as.tibble()
filmes = from_page %>%
filter(RATING != "No Score Yet",
`BOX OFFICE` != "—",
CREDIT != "Executive Producer") %>%
mutate(RATING = as.numeric(gsub("%", "", RATING)),
`BOX OFFICE` = as.numeric(gsub("[$|M]", "", `BOX OFFICE`))) %>%
filter(`BOX OFFICE` >= 1) # Tem dois filmes que não parecem ter sido lançados no mundo todo
agrupamento_h_2d = filmes %>%
column_to_rownames("TITLE") %>%
select(RATING, `BOX OFFICE`) %>%
dist(method = "euclidean") %>%
hclust(method = "centroid")
ggdendrogram(agrupamento_h_2d, rotate = TRUE)
data.frame(k = NROW(agrupamento_h_2d$height):1,
height = agrupamento_h_2d$height) %>%
ggplot(aes(x = k, y = height)) +
geom_line(colour = "grey") +
geom_point() +
labs(x = "Número de clusters produzido", y = "Dissimilaridade na junção")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse, warn.conflicts = F)
library(rvest)
library(plotly)
library(cluster)
library(tibble)
library(ggdendro)
theme_set(theme_light())
source("plota_solucoes_hclust.R")
from_page <- read_html("https://www.rottentomatoes.com/celebrity/scarlett_johansson/") %>%
html_node("#filmographyTbl") %>% # A sintaxe da expressão é de um seletor à lá JQuery: https://rdrr.io/cran/rvest/man/html_nodes.html
html_table(fill=TRUE) %>% # Faz parse
as.tibble()
filmes = from_page %>%
filter(RATING != "No Score Yet",
`BOX OFFICE` != "—",
CREDIT != "Executive Producer") %>%
mutate(RATING = as.numeric(gsub("%", "", RATING)),
`BOX OFFICE` = as.numeric(gsub("[$|M]", "", `BOX OFFICE`))) %>%
filter(`BOX OFFICE` >= 1) # Tem dois filmes que não parecem ter sido lançados no mundo todo
agrupamento_h_2d = filmes %>%
column_to_rownames("TITLE") %>%
select(RATING, `BOX OFFICE`) %>%
dist(method = "euclidean") %>%
hclust(method = "centroid")
ggdendrogram(agrupamento_h_2d, rotate = TRUE)
data.frame(k = NROW(agrupamento_h_2d$height):1,
height = agrupamento_h_2d$height) %>%
ggplot(aes(x = k, y = height)) +
geom_line(colour = "grey") +
geom_point() +
labs(x = "Número de clusters produzido", y = "Dissimilaridade na junção")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse, warn.conflicts = F)
library(rvest)
library(plotly)
library(cluster)
library(tibble)
library(ggdendro)
theme_set(theme_light())
source("plota_solucoes_hclust.R")
from_page <- read_html("https://www.rottentomatoes.com/celebrity/emma_watson/") %>%
html_node("#filmographyTbl") %>% # A sintaxe da expressão é de um seletor à lá JQuery: https://rdrr.io/cran/rvest/man/html_nodes.html
html_table(fill=TRUE) %>% # Faz parse
as.tibble()
filmes = from_page %>%
filter(RATING != "No Score Yet",
`BOX OFFICE` != "—",
CREDIT != "Executive Producer") %>%
mutate(RATING = as.numeric(gsub("%", "", RATING)),
`BOX OFFICE` = as.numeric(gsub("[$|M]", "", `BOX OFFICE`))) %>%
filter(`BOX OFFICE` >= 1) # Tem dois filmes que não parecem ter sido lançados no mundo todo
agrupamento_h_2d = filmes %>%
column_to_rownames("TITLE") %>%
select(RATING, `BOX OFFICE`) %>%
dist(method = "euclidean") %>%
hclust(method = "centroid")
ggdendrogram(agrupamento_h_2d, rotate = TRUE)
data.frame(k = NROW(agrupamento_h_2d$height):1,
height = agrupamento_h_2d$height) %>%
ggplot(aes(x = k, y = height)) +
geom_line(colour = "grey") +
geom_point() +
labs(x = "Número de clusters produzido", y = "Dissimilaridade na junção")
getwd()
setwd("/home/gustavonsy/Documentos/Analise-de-Dados/")
getwd()
knitr::opts_chunk$set(echo = TRUE)
filmes <- read.csv("/dados/meta_data7.csv")
filmes <- read.csv("./dados/meta_data7.csv")
filmes <- read.csv("../dados/meta_data7.csv")
personagens <- read.csv("../dados/character_mapping.csv")
filme_personagem <- read.csv("../dados/character_list5.csv")
View(filmes)
View(filmes)
View(personagens)
View(personagens)
View(filme_personagem)
View(filme_personagem)
filmes <- read.csv("../dados/meta_data7.csv")
filme_personagem <- read.csv("../dados/character_mapping.csv")
personagens <- read.csv("../dados/character_list5.csv")character_list5
filmes <- read.csv("../dados/meta_data7.csv")
filme_personagem <- read.csv("../dados/character_mapping.csv")
personagens <- read.csv("../dados/character_list5.csv")
View(filme_personagem)
View(filme_personagem)
View(personagens)
View(personagens)
View(filme_personagem)
View(filme_personagem)
library(dplyr)
tabela_completa <- left_join(filmes, personagens, "script_id")
View(tabela_completa)
View(tabela_completa)
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
filmes <- read.csv("../dados/meta_data7.csv")
filme_personagem <- read.csv("../dados/character_mapping.csv")
personagens <- read.csv("../dados/character_list5.csv")
tabela_completa <- left_join(filmes, personagens, "script_id")
View(tabela_completa)
View(tabela_completa)
filme_agrupado <- tabela_completa %>%
group_by(title) %>%  summarise(media_idade = mean(age, na.rm = TRUE))
filme_agrupado <- tabela_completa %>%
group_by(title) %>%  summarise(media_idade = mean(age, na.rm = TRUE))
#filme_agrupado <- tabela_completa %>%
#group_by(title) %>%  summarise(media_idade = mean(age, na.rm = TRUE))
str(tabela_completa)
filme_agrupado <- tabela_completa %>%
filter(age != 'NULL') %>%
mutate(age = as.integer(age)) %>%
group_by(title) %>%  summarise(media_idade = mean(age, na.rm = TRUE))
filme_agrupado <- tabela_completa %>%
filter(age != 'NULL') %>%
mutate(age = as.integer(age)) %>%
group_by(title) %>%  summarise(media_idade = mean(age, na.rm = TRUE))
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
filmes <- read.csv("../dados/meta_data7.csv")
filme_personagem <- read.csv("../dados/character_mapping.csv")
personagens <- read.csv("../dados/character_list5.csv")
tabela_completa <- left_join(filmes, personagens, "script_id")
filme_agrupado <- tabela_completa %>%
filter(age != 'NULL') %>%
mutate(age = as.integer(age)) %>%
group_by(title) %>%  summarise(media_idade = mean(age, na.rm = TRUE))
str(tabela_completa)
filme_agrupado <- tabela_completa %>%
filter(age != 'NULL') %>%
mutate(age = as.integer(age)) %>%
group_by(title) %>%  summarise(media_idade = mean(age, na.rm = TRUE))
str(tabela_completa)
filme_agrupado <- tabela_completa %>%
filter(age != 'NULL') %>%
mutate(age = as.integer(age)) %>%
group_by(title) %>%  summarise(media_idade = mean(age, na.rm = TRUE))
View(filme_agrupado)
View(filme_agrupado)
filme_agrupado <- tabela_completa %>%
filter(age != 'NULL') %>%
mutate(age = as.integer(age)) %>%
group_by(title) %>%  summarise(media_idade = mean(age, na.rm = TRUE))
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
filmes <- read.csv("../dados/meta_data7.csv")
filme_personagem <- read.csv("../dados/character_mapping.csv")
personagens <- read.csv("../dados/character_list5.csv")
tabela_completa <- left_join(filmes, personagens, "script_id")
filme_agrupado <- tabela_completa %>%
filter(age != 'NULL') %>%
mutate(age = as.integer(age)) %>%
group_by(title) %>%  summarise(media_idade = mean(age, na.rm = TRUE))
View(filmes)
View(personagens)
View(filme_personagem)
